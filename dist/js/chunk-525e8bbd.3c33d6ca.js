(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-525e8bbd"],{"13b2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("NavMenu"),n("el-header",{staticStyle:{"margin-top":"50px"}},[n("ExamMenu",{attrs:{which_to_show:e.which_to_show},on:{changeMenu:function(t){e.change(t)},to_answer:function(t){e.answer(t)},get_exam_json:function(t){e.get_exam_json(t)}}})],1),n(e.which_to_show,{tag:"component",attrs:{which_to_show:e.which_to_show},on:{reset:function(t){e.resetM(t)}}})],1)},s=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-menu",{staticClass:"menu-top",attrs:{"default-active":e.activeIndex,mode:"horizontal"}},[n("el-menu-item",{attrs:{index:"1"},on:{click:function(t){e.change(1)}}},[n("el-input",{staticClass:"search-exam-input",attrs:{placeholder:"Input a exam code here",maxLength:"6"},model:{value:e.exam_code,callback:function(t){e.exam_code=t},expression:"exam_code"}}),n("el-button",{staticClass:"search-exam-btn",on:{click:function(t){e.search()}}})],1),n("el-menu-item",{attrs:{index:"2"},on:{click:function(t){e.change(2)}}},[e._v("generate exam")])],1)],1)},o=[],r=n("bc3a"),c=n.n(r),l={name:"ExamMenu",props:["which_to_show"],data:function(){return{activeIndex:1,exam_code:null}},methods:{change:function(e){1==e?this.$emit("changeMenu",""):this.$emit("changeMenu","ExamGenerate")},search:function(){var e=this,t="https://fangzx.pythonanywhere.com/api/search_examapi",n={headers:{"Content-Type":"text/xml"}};c.a.post(t,this.exam_code,n).then((function(t){if("success"==t.data.msg){var n=e.$x2js.xml2js(t.data.exam_content),a=new Date(n["exam"]["start_time"]),s=new Date(n["exam"]["end_time"]),i=new Date;s<i?alert("The exam is over"):a>i?alert("The exam is not begin"):(e.$emit("to_answer","ExamAnswer"),e.$emit("get_exam_json",n))}else alert(t.data.msg)})).catch((function(e){console.log(e),alert(e)}))}}},u=l,_=(n("826c"),n("2877")),d=Object(_["a"])(u,i,o,!1,null,null,null),m=d.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-select",{staticClass:"opt-grade",attrs:{clearable:"",placeholder:"Select grade"},model:{value:e.grade,callback:function(t){e.grade=t},expression:"grade"}},e._l(e.options_grade,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),n("el-select",{staticClass:"opt-diff",attrs:{clearable:"",placeholder:"Select difficulty"},model:{value:e.difficulty,callback:function(t){e.difficulty=t},expression:"difficulty"}},e._l(e.options_diff,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),n("div",{staticClass:"date-time"},[n("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":"start time","end-placeholder":"end time"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),n("el-button",{staticClass:"submit-btn",attrs:{type:"success"},on:{click:function(t){e.generate()}}},[e._v("submit")]),e._l(e.types,(function(t,a){return n("div",{key:a,staticClass:"type-input"},[n("el-select",{staticClass:"opt-types",attrs:{clearable:"",placeholder:"Select question types"},model:{value:e.types[a],callback:function(t){e.$set(e.types,a,t)},expression:"types[index]"}},e._l(e.options_types,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),n("el-input-number",{staticStyle:{width:"100px"},attrs:{step:1,size:"mini"},model:{value:e.types_num[a],callback:function(t){e.$set(e.types_num,a,t)},expression:"types_num[index]"}})],1)})),n("el-button",{staticClass:"add-btn",attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:e.add_type}}),n("el-button",{staticClass:"del-btn",attrs:{type:"danger",icon:"el-icon-minus",circle:""},on:{click:function(t){e.del_type(e.index)}}})],2)},p=[],f={name:"ExamGenerate",props:["which_to_change"],data:function(){return{options_grade:[{value:"first grade",label:"first grade"},{value:"second grade",label:"second grade"}],options_diff:[{value:"easy",label:"easy"},{value:"normal",label:"normal"},{value:"hard",label:"hard"}],options_types:[{value:"problem solving",label:"problem solving"},{value:"MCQ",label:"multiple choice question"},{value:"calculation",label:"calculation"}],options_kk:[{value:"Four Arithmetic Operations",label:"Four Arithmetic Operations"},{value:"problem of geometry",label:"problem of geometry"}],grade:"",difficulty:"",types:[""],types_num:[],kk:[],date:"",num:1}},methods:{add_type:function(){this.types.push("")},del_type:function(){1==this.types.length?alert("cannot be remove anymore"):this.types.pop()},generate:function(){var e=this,t={grade:this.grade,difficulty:this.difficulty,key_knowledge:this.kk,date:this.date,types:this.types,types_num:this.types_num};console.log(t);var n={headers:{"Content-Type":"application/json"}},a="https://fangzx.pythonanywhere.com/api/gen_examapi";c.a.post(a,t,n).then((function(t){"success"==t.data.msg&&(e.$msgbox({title:"success",message:"The exam code you generated is "+t.data.code}),e.$emit("reset",""))})).catch((function(e){console.log(e),alert("Wrong")}))}}},x=f,b=(n("5fd0"),Object(_["a"])(x,h,p,!1,null,"34a23350",null)),g=b.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"clock"}},[n("div",{staticClass:"date"},[e._v(e._s(e.date))]),n("div",{staticClass:"time"},[e._v(e._s(e.time))])]),n("span",{staticClass:"question-title"},[e._v(e._s(e.current_question)+". "+e._s(this.exam_content[e.current_question-1].question_title))]),3===this.question_len[e.current_question-1].length?n("el-input",{staticClass:"ps-ans-input",attrs:{type:"textarea"},model:{value:e.ans_list[e.current_question-1],callback:function(t){e.$set(e.ans_list,e.current_question-1,t)},expression:"ans_list[current_question - 1]"}}):e._e(),7===this.question_len[e.current_question-1].length?n("div",{staticClass:"mcq-ans-input"},[n("el-radio",{staticStyle:{width:"800px",margin:"10px"},attrs:{label:"A",border:""},model:{value:e.ans_list[e.current_question-1],callback:function(t){e.$set(e.ans_list,e.current_question-1,t)},expression:"ans_list[current_question - 1]"}},[e._v("A."+e._s(this.exam_content[e.current_question-1].option_a))]),n("el-radio",{staticStyle:{width:"800px",margin:"10px"},attrs:{label:"B",border:""},model:{value:e.ans_list[e.current_question-1],callback:function(t){e.$set(e.ans_list,e.current_question-1,t)},expression:"ans_list[current_question - 1]"}},[e._v("B."+e._s(this.exam_content[e.current_question-1].option_b))]),n("el-radio",{staticStyle:{width:"800px",margin:"10px"},attrs:{label:"C",border:""},model:{value:e.ans_list[e.current_question-1],callback:function(t){e.$set(e.ans_list,e.current_question-1,t)},expression:"ans_list[current_question - 1]"}},[e._v("C."+e._s(this.exam_content[e.current_question-1].option_c))]),n("el-radio",{staticStyle:{width:"800px",margin:"10px"},attrs:{label:"D",border:""},model:{value:e.ans_list[e.current_question-1],callback:function(t){e.$set(e.ans_list,e.current_question-1,t)},expression:"ans_list[current_question - 1]"}},[e._v("D."+e._s(this.exam_content[e.current_question-1].option_d))])],1):e._e(),n("div",{staticClass:"ans-btn"},[n("el-button",{staticStyle:{"margin-right":"950px"},attrs:{type:"info",icon:"el-icon-arrow-left",disabled:1==e.current_question,circle:"",plain:""},on:{click:function(t){e.page_control(0)}}}),n("el-button",{attrs:{type:"info",icon:"el-icon-arrow-right",circle:"",plain:""},on:{click:function(t){e.page_control(1)}}})],1),n("el-button",{staticClass:"submit-btn",attrs:{type:"danger"},on:{click:function(t){e.submit()}}},[e._v("Submit ("+e._s(e.left_time)+" minutes)")]),n("el-button",{staticClass:"info-btn",attrs:{type:"primary"},on:{click:function(t){e.show_info()}}},[e._v("Exam Infomation")])],1)},y=[],w=(n("fb6a"),n("b64b"),{name:"ExamAnswer",props:["which_to_show"],data:function(){return{exam_content:[{question_title:"1+1="},{question_title:"2+2="}],question_len:[["question_title"]],current_question:1,ans_list:[],cur_time:0,time:"",date:"",left_time:0,start_time:"",end_time:""}},mounted:function(){var e=this;setInterval((function(){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=new Date;e.time=e.zeroPadding(n.getHours(),2)+":"+e.zeroPadding(n.getMinutes(),2)+":"+e.zeroPadding(n.getSeconds(),2),e.date=e.zeroPadding(n.getFullYear(),4)+"-"+e.zeroPadding(n.getMonth()+1,2)+"-"+e.zeroPadding(n.getDate(),2)+" "+t[n.getDay()],e.cur_time=new Date;var a=new Date(e.end_time)/1e3,s=parseInt(a)-parseInt(e.cur_time.getTime()/1e3);e.left_time=parseInt(s/60),parseInt(a)<=parseInt(e.cur_time.getTime()/1e3)&&e.submit()})),this.xml_to_json()},methods:{zeroPadding:function(e,t){for(var n="",a=0;a<t;a++)n+="0";return(n+e).slice(-t)},page_control:function(e){0==e?this.current_question=this.current_question-1:1==e&&(this.current_question==this.exam_content.length?alert("This is the last question"):this.current_question=this.current_question+1)},submit:function(){var e=this;this.$confirm("Are you sure to submit this exam ?","NOTE",{confirmButtonText:"Yes",cancelButtonText:"cancel",type:"warning"}).then((function(){e.$emit("reset","");for(var t=0,n=[],a=0;a<e.exam_content.length;a++)e.exam_content[a].correct_answer===e.ans_list[a]?t++:n.push(e.exam_content[a].question_title);e.$notify({title:"Success",message:"Your score is "+t+" out of "+e.exam_content.length,offset:100,type:"success"})})).catch((function(){e.$message({type:"info",message:"canceled the submit"})}))},show_info:function(){for(var e=0,t=0,n=0;n<this.exam_content.length;n++)3==this.question_len[n].length?e+=1:t+=1;this.$confirm("<h3>The number of questions : "+this.exam_content.length+"</h3><h3>Includes problem solving : "+e+"</h3><h3>Includes Multiply choice question : "+t+"</h3>","Exam information",{confirmButtonText:"OK",cancelButtonText:"cancel",type:"info",center:!0,dangerouslyUseHTMLString:!0})},xml_to_json:function(){var e=this.$parent.exam_json,t=e["exam"];this.start_time=t["start_time"],this.end_time=t["end_time"],console;for(var n=0;n<t["exam_questions"]["question_content"].length;n++)this.exam_content[n]=t["exam_questions"]["question_content"][n],this.question_len[n]=Object.keys(this.exam_content[n])}}}),q=w,k=(n("21ae"),Object(_["a"])(q,v,y,!1,null,"4fc10f17",null)),C=k.exports,S=n("4cc3"),$={name:"Exam",data:function(){return{which_to_show:"",exam_json:""}},methods:{change:function(e){this.which_to_show=e},resetM:function(e){this.which_to_show=e},answer:function(e){this.which_to_show=e},get_exam_json:function(e){this.exam_json=e,console.log(this.exam_json)}},components:{ExamMenu:m,ExamGenerate:g,ExamAnswer:C,NavMenu:S["a"]}},j=$,E=Object(_["a"])(j,a,s,!1,null,null,null);t["default"]=E.exports},"1dde":function(e,t,n){var a=n("d039"),s=n("b622"),i=n("2d00"),o=s("species");e.exports=function(e){return i>=51||!a((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"21ae":function(e,t,n){"use strict";var a=n("33de"),s=n.n(a);s.a},"33de":function(e,t,n){},"5fd0":function(e,t,n){"use strict";var a=n("b79d"),s=n.n(a);s.a},"826c":function(e,t,n){"use strict";var a=n("efb5"),s=n.n(a);s.a},8418:function(e,t,n){"use strict";var a=n("c04e"),s=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var o=a(t);o in e?s.f(e,o,i(0,n)):e[o]=n}},ae40:function(e,t,n){var a=n("83ab"),s=n("d039"),i=n("5135"),o=Object.defineProperty,r={},c=function(e){throw e};e.exports=function(e,t){if(i(r,e))return r[e];t||(t={});var n=[][e],l=!!i(t,"ACCESSORS")&&t.ACCESSORS,u=i(t,0)?t[0]:c,_=i(t,1)?t[1]:void 0;return r[e]=!!n&&!s((function(){if(l&&!a)return!0;var e={length:-1};l?o(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,u,_)}))}},b64b:function(e,t,n){var a=n("23e7"),s=n("7b0b"),i=n("df75"),o=n("d039"),r=o((function(){i(1)}));a({target:"Object",stat:!0,forced:r},{keys:function(e){return i(s(e))}})},b79d:function(e,t,n){},e8b5:function(e,t,n){var a=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}},efb5:function(e,t,n){},fb6a:function(e,t,n){"use strict";var a=n("23e7"),s=n("861d"),i=n("e8b5"),o=n("23cb"),r=n("50c4"),c=n("fc6a"),l=n("8418"),u=n("b622"),_=n("1dde"),d=n("ae40"),m=_("slice"),h=d("slice",{ACCESSORS:!0,0:0,1:2}),p=u("species"),f=[].slice,x=Math.max;a({target:"Array",proto:!0,forced:!m||!h},{slice:function(e,t){var n,a,u,_=c(this),d=r(_.length),m=o(e,d),h=o(void 0===t?d:t,d);if(i(_)&&(n=_.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?s(n)&&(n=n[p],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return f.call(_,m,h);for(a=new(void 0===n?Array:n)(x(h-m,0)),u=0;m<h;m++,u++)m in _&&l(a,u,_[m]);return a.length=u,a}})}}]);
//# sourceMappingURL=chunk-525e8bbd.3c33d6ca.js.map